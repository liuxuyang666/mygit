<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jk.mapper.LoginMapper" >
    <!--查询是否存在该手机号-->
    <select id="register" resultType="java.lang.Integer">
    select count(*) from t_user2 where mobile =#{mobile}
  </select>

    <select id="queryemail" resultType="java.lang.Integer">
  select count(*) from t_user2 where email =#{emailVal}
</select>

    <select id="queryMobile" resultType="java.lang.Integer">
    select count(*) from t_user2 where mobile =#{mobile}
  </select>
    <!--新增用户-->
    <insert id="addregister">
insert into t_user2 (username,userpass,mobile,email) values(#{username},#{userpass},#{mobile},#{email})

</insert>
    <!--登录判断-->
    <select id="loginUser" resultType="com.jk.model.LoginModel">
    select * from t_user2 where userpass = #{user.userpass} and mobile = #{user.mobile}
  </select>
    <select id="emailloginUser" resultType="com.jk.model.LoginModel">
    select * from t_user2 where userpass = #{user.userpass} and email = #{user.email}
  </select>
    <!--修改密码-->
    <update id="modify">
    update t_user2 set userpass = #{userModel.userpass} where mobile = #{mobile}

  </update>


</mapper>